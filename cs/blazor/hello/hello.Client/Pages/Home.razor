@page "/"
@inject HttpClient Http
@inject Microsoft.Extensions.Configuration.IConfiguration config

<PageTitle>Home</PageTitle>

<h1>Hello, world!</h1>

Welcome to your new app.

<br />
<br />

<button class="btn btn-primary" @onclick="GetAPI">Get API</button>

<br />
<br />

Label: @_label


@code {
    private string _label = "";

    private async Task GetAPI()
    {
        var response = await Http.GetAsync(config["BaseAPIUrl"] + "/world");
        // var response = await Http.GetAsync("https://localhost/Hello/api/world");
        var strResponse = await response.Content.ReadFromJsonAsync<Stuff>();
        _label = strResponse.message;
    }

    public class Stuff {
        public string message { get; set; }
    }
}


